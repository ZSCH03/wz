Myaccount={};Myaccount.loading=false;Myaccount.loadRightMain=function(b){if(userType==1){switch(b){case"/borrower/account2.c":Myaccount.clickMenu(1);break;case"/borrower/borrowRecord.c":Myaccount.clickMenu(2);break;case"/investor/cashRecordV2.c":Myaccount.clickMenu(3);break;case"/investor/baseInfoEditV2.c":Myaccount.clickMenu(4);break}}else{switch(b){case"/investor/myaccountPart.c":Myaccount.clickMenu(1);break;case"/investor/packinvestlistV2.c?pack_type=0":Myaccount.clickMenu(2);break;case"/investor/packinvestlistV2.c?pack_type=2":Myaccount.clickMenu(11);break;case"/investor/investdyb.c":Myaccount.clickMenu(12);break;case"/investor/investzyblist.c":Myaccount.clickMenu(10);break;case"/investor/iinvestlistV2.c":Myaccount.clickMenu(3);break;case"/investor/showzqzr.c":Myaccount.clickMenu(4);break;case"/investor/repaymentplan.c":Myaccount.clickMenu(5);break;case"/investor/cashRecordV2.c":Myaccount.clickMenu(6);break;case"/my/userRed.c":Myaccount.clickMenu(9);break;case"/my/userAddInterest.c":Myaccount.clickMenu(10);break;case"/my/bankcardlist.c":Myaccount.clickMenu(7);break;case"/investor/baseInfoEditV2.c":Myaccount.clickMenu(8);break;case"/my/email.c":Myaccount.clickMenu(8);break}}var a=b.split("?");if(a.length>1){b=b+"&random="+Math.random()}else{b=b+"?random="+Math.random()}if(!Myaccount.loading){Myaccount.loading=true;$("#loading_center").show();nyonline.ajaxHtml(b,{},function(c){if(c.indexOf("__btnLogin")>0){window.location.href=server("/my/");return}$("#right_main").html(c)},function(){},function(){$("#loading_center").hide();Myaccount.loading=false})}};Myaccount.goUrl=function(a){if("onhashchange" in window){window.onhashchange=function(){var b=decodeURIComponent(location.hash).substr(1);if(b==null||b==""){history.back()}else{Myaccount.loadRightMain(b)}};if(a===decodeURIComponent(location.hash).substr(1)){Myaccount.loadRightMain(a)}else{location.hash=encodeURIComponent(a)}}else{Myaccount.loadRightMain(a);location.hash=encodeURIComponent(a);if(Myaccount.interval1!=null){window.clearInterval(Myaccount.interval1)}Myaccount.interval1=setInterval(function(){var b=decodeURIComponent(location.hash).substr(1);if(b!=a){Myaccount.loadRightMain(b);a=b}},500)}};Myaccount.goUrl2=function(){var a="/investor/myaccountPart.c";if(!Myaccount.loading){Myaccount.loading=true;$("#loading_center").show();nyonline.ajaxHtml(a,{},function(b){$("#right_main").html(b)},function(){},function(){$("#loading_center").hide();Myaccount.loading=false})}};Myaccount.init=function(){$(".sidebar li").hover(function(){_index=$(this).attr("index")-1;$(this).find("span").css("background-position",(-_index*24)+"px -24px")},function(){_index=$(this).attr("index")-1;if($(this).hasClass("active")){$(this).find("span").css("background-position",(-_index*24)+"px -24px")}else{$(this).find("span").css("background-position",(-_index*24)+"px 0")}});$(".sidebar li").click(function(){if($(this).attr("index")==12){$(".son").toggle()}else{if($(this).attr("index")==15){$(".son1").toggle()}}_index=$(this).attr("index")-1;_index1=$(this).siblings("li.active").attr("index")-1;$(this).addClass("active").find("span").css("background-position",(-_index*24)+"px -24px").parents("li").siblings("li.active").removeClass("active").find("span").css("background-position",(-_index1*24)+"px 0")});$(".borrow.sidebar li").hover(function(){_index=$(this).attr("index");$(this).find("img").attr("src",server("/image/borrowIcon"+(_index*100)+".png"))},function(){_index=$(this).index()+1;if($(this).hasClass("active")){$(this).find("img").attr("src",server("/image/borrowIcon"+(_index*100)+".png"))}else{$(this).find("img").attr("src",server("/image/borrowIcon"+_index+".png"))}})};Myaccount.clickMenu=function(a){_index=$("#menu_"+a).attr("index")-1;_index1=$("#menu_"+a).siblings("li.active").attr("index")-1;$("#menu_"+a).addClass("active").find("span").css("background-position",(-_index*24)+"px -24px").parents("li").siblings("li.active").removeClass("active").find("span").css("background-position",(-_index1*24)+"px 0");if($("#menu_"+a).hasClass("son")){$(".son").show()}if(userType==1){}else{}};Myaccount.realNamePageCheck=function(a){var f=true;var c=$("#realName").val();var e=/^([\u4e00-\u9fa5\·]{2,10})$/;var b=$("#identity").val();var d=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;if(a=="realName"){if(c!=""&&e.test(c)==false){$("#nameTip").text("*姓名格式不正确，请重新输入");f=false;return}else{f=true;$("#nameTip").text("")}}else{if(b!=""&&d.test(b)===false){$("#idenTip").text("*身份证号格式不正确，请重新输入");f=false;return}else{$("#idenTip").text("");f=true}}return f};var realFlag=false;Myaccount.realNamePage=function(d){var c=$("#realName").val();var b=$("#identity").val();if(c=="请输入您的姓名"||b=="请输入您的身份证号码"){return}var e=Myaccount.realNamePageCheck("realName");var a=Myaccount.realNamePageCheck("identity");if(!e||!a){return}if(realFlag){return}else{realFlag=true}var c=$("#realName").val();var b=$("#identity").val();MsgBox.showLoading("正在验证实名信息,请稍等~");if(USER_ID%100<REALNAME_RODIO){nyonline.jsonp_pyft("/acs/web/user/registName.c",{realname:c,idnumber:b,platform:0,terminal:1,client:1},function(f){MsgBox.closeLoading();realFlag=false;if(f.code==0){newerGuide.getStatusInfo(function(h,g){if(h==true){newerGuide.realNameSuccTips()}else{MsgBox.closeDialog("goRealName2");MsgBox.realNameBoxParamSuc2(d)}})}else{if(f.code==-46){MsgBox.closeDialog("goRealName2");MsgBox.realNameBoxParamFail2("您的账户已通过实名认证，请勿重复认证",d)}else{if(f.code==-55){MsgBox.closeDialog("goRealName2");MsgBox.realNameBoxParamFail2("您的身份证已经被使用，请勿重复认证",d)}else{if(f.code==-65||f.code==-104){MsgBox.realNameBoxParamFail2("身份证号有误，请认真核实信息","")}else{if(f.code==-66){MsgBox.realNameBoxParamFail2("身份证号与姓名不匹配，请认真核实信息或联系客服","")}else{if(f.code==-103){MsgBox.realNameBoxParamFail2("抱歉，平台仅支持18-70岁之间的用户验证身份并理财，您的年龄不在此范围内。","")}else{if(f.code==-105){MsgBox.realNameBoxParamFail2("等待超时，请稍后查看或重试。","")}else{if(f.code==-106){MsgBox.realNameBoxParamFail2("抱歉，姓名格式不正确，请重新输入","")}else{if(f.code==-109){MsgBox.realNameBoxParamFail2("身份信息有误，请输入您本人的身份信息或联系客服400-168-2588","")}else{MsgBox.realNameBoxParamFail2("抱歉，实名认证失败，请重试","")}}}}}}}}}})}else{nyonline.jsonp("/regist/do.c",{realName:c,idNumber:b},function(f){MsgBox.closeLoading();realFlag=false;if(f.code==0){newerGuide.getStatusInfo(function(h,g){if(h==true){newerGuide.realNameSuccTips()}else{MsgBox.closeDialog("goRealName2");MsgBox.realNameBoxParamSuc2(d)}})}else{if(f.code==-46){MsgBox.closeDialog("goRealName2");MsgBox.realNameBoxParamFail2("您的账户已通过实名认证，请勿重复认证",d)}else{if(f.code==-55){MsgBox.closeDialog("goRealName2");MsgBox.realNameBoxParamFail2("您的身份证已经被使用，请勿重复认证",d)}else{if(f.code==-65||f.code==-104){MsgBox.realNameBoxParamFail2("身份证号有误，请认真核实信息","")}else{if(f.code==-66){MsgBox.realNameBoxParamFail2("身份证号与姓名不匹配，请认真核实信息或联系客服","")}else{if(f.code==-103){MsgBox.realNameBoxParamFail2("抱歉，平台仅支持18-70岁之间的用户验证身份并理财，您的年龄不在此范围内。","")}else{if(f.code==-105){MsgBox.realNameBoxParamFail2("等待超时，请稍后查看或重试。","")}else{if(f.code==-106){MsgBox.realNameBoxParamFail2("抱歉，姓名格式不正确，请重新输入","")}else{if(f.code==-109){MsgBox.realNameBoxParamFail2("身份信息有误，请输入您本人的身份信息或联系客服400-168-2588","")}else{MsgBox.realNameBoxParamFail2("抱歉，实名认证失败，请重试","")}}}}}}}}}})}};